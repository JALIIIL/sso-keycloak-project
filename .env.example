# ========================================
# ⚠️ CONFIGURATION POUR DOCKER COMPOSE
# ========================================
# Ce fichier contient les variables d'environnement pour docker-compose.dev.yml
# Les noms d'hôtes utilisent les noms de services Docker (postgres, keycloak, kafka, etc.)
# Pour développement local Node.js, voir /dummy-app/.env.example
#
# ========================================
# KEYCLOAK CONFIGURATION
# ========================================
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION
KEYCLOAK_DB_VENDOR=postgres
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=CHANGE_ME_IN_PRODUCTION
KEYCLOAK_DB_DATABASE=keycloak
KEYCLOAK_DB_HOST=postgres
KEYCLOAK_DB_PORT=5432
KEYCLOAK_HOSTNAME=localhost
KEYCLOAK_HTTP_PORT=8080
KEYCLOAK_HTTPS_PORT=8443
KEYCLOAK_REALM=sso-demo

# ========================================
# POSTGRESQL CONFIGURATION
# ========================================
POSTGRES_USER=keycloak
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION
POSTGRES_DB=keycloak
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ========================================
# LDAP CONFIGURATION (OpenLDAP)
# ========================================
LDAP_ORGANISATION="SSO Project"
LDAP_DOMAIN=example.org
LDAP_ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION
LDAP_BASE_DN=dc=example,dc=org
LDAP_HOST=openldap
LDAP_PORT=389
LDAP_TLS_PORT=636

# ========================================
# DUMMY APP CONFIGURATION (Node.js)
# ========================================
# ⚠️ KEYCLOAK_URL: URL pour que l'app communique avec Keycloak (hostname Docker)
KEYCLOAK_URL=http://keycloak:8080

APP_PORT=3000
SESSION_SECRET=CHANGE_ME_IN_PRODUCTION
CLIENT_ID=dummy-app
CLIENT_SECRET=CHANGE_ME_IN_PRODUCTION
CALLBACK_URL=http://localhost:3000/callback
NODE_ENV=development

# ========================================
# KAFKA / MESSAGING
# ========================================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC=keycloak-events
KAFKA_GROUP_ID=sso-monitoring

# ========================================
# ELASTICSEARCH CONFIGURATION
# ========================================
ELASTICSEARCH_HOST=http://elasticsearch:9200
ELASTICSEARCH_INDEX=sso-logs
ELASTIC_PORT=9200
ELASTIC_USER=elastic
ELASTIC_PASSWORD=CHANGE_ME_IN_PRODUCTION

# ========================================
# KIBANA CONFIGURATION
# ========================================
KIBANA_PORT=5601

# ========================================
# MONITORING CONSUMER
# ========================================
LOG_LEVEL=INFO

# ========================================
# ENVIRONMENT
# ========================================
ENVIRONMENT=development
DEBUG=true
